# Шаблоны комментариев для кода

---

## Присвоение через функцию
```js
// Получаем <...>
    const message = this.getMessage();
    
// Извлекаем <...>
    const message = this.extractMessage(packetBuffer);
    
// Создаем <...>
    const message = this.createMessage();
    
// Формируем <...>
    const positions = this.derivePositions();
    
// Создаем буфер <...>
    const hashBuffer = Buffer.alloc(SIZE);
    
// Создаем случайный буфер <...>
    const hashBuffer = crypto.randomBytes(SIZE);
```

## Разделение объекта / деструктуризация
```js
// Разделяем опции канала связи
    const {
        scanner = {}, // Опции приемника
         sender = {}, // Опции передатчика
        ...shared     // Общие опции
    } = channelOptions;
```

## Присвоение через объект / существующее значение
```js
// Получаем <...>
    const size = message.length;
```

## Присвоение через арифметическое действие
```js
// Определяем <...>
    const size = message.length - 1;
```

## Присвоение литерала
```js
// Инициализируем <...>
    const type = 'DATA';
    
// Инициализируем <...>
    const age = 21;
```

## Присвоение Boolean
```js
// Устанавливаем <...>
    const syncEnabled = true;
    const debugMode = false;
    
// Включаем <...>
    const debugMode = true;
    
// Выключаем <...>
    const debugMode = false;
```

## Объявление без значения
```js
// Список локальных переменных
    let size; // Общая длина
    let min;  // Минимальная длина
    let max;  // Максимальная длина
    
// Объявляем <...>
    let type;
```

## Ограничение диапазона
```js
// Ограничиваем <...>
    min = min < 1 ? 1 : min;
    max = max > 9 ? 9 : max;
    
// Выбираем минимальное значение для <...>
    min = min < 1 ? 1 : min;
    
// Выбираем максимальное значение для <...>
    max = max > 9 ? 9 : max;
```

## Инкремент / декремент
```js
// Увеличиваем <...>
    i++;
    
// Уменьшаем <...>
    i--;
```

## Обновление существующего свойства
```js
// Обновляем <...>
    packet.type = type;
    
// Обновляем <...>
    items[i] = item;
    
// Обновляем <...>
    buffer[bytePosition] = byte;
```

## Добавление нового свойства или элемента
```js
// Добавляем <...>
    packet.type = type;
    
// Добавляем <...>
    items.push(item);
```

## Удаление элемента из массива
```js
// Удаляем <...>
    items.pop();
```

## Очистка / обнуление
```js
// Обнуляем <...>
    messages = [];
```

---

## Комментарии в методе
```js
updateMessage(message) {
// Извлекаем буфер хэш-суммы (первые 17 байт)
    const hashBuffer = digest.subarray(0, HASH.SIZE);
    
// Создаем список <...>
    const list = [];
    
// Определяем значение по умолчанию для <...>
    message = message || '';
    
// Определяем <...>
    size = size ? 0 : min + max;
    
// Переводим <...> в <...>
// Переводим в <...>
// Переводим в строку
    messages = messages.map(message => String(message));
    
// Запускаем обработчик <...>
    while (true) {
    }
    
// Проходим по списку <...>
    for (let i = 0; i < list.length; i++) {
    }
    
// Выполняем обработчик <...>
    if (typeof this.events.onUpdateMessage == 'function') {
        this.events.onUpdateMessage(message);
    }
}
```

---

## registerMethods()
```js
/*┌─────────────────────────────────┐
  │ Регистрирует методы в протоколе │
  └─────────────────────────────────┘*/
    registerMethods = () => {
    }
    
// Регистрируем методы в протоколе
    this.registerMethods();
```

## initChannel()
```js
/*┌────────────────────────────┐
  │ Инициализирует канал связи │
  └────────────────────────────┘*/
    initChannel = () => {
    }
    
// Инициализируем канал связи
    this.initChannel();
```

## hasPending()
```js
/*┌───────────────────────────────────────┐
  │ Проверяет наличие сообщений в очереди │
  └───────────────────────────────────────┘*/
    hasPending = () => {
    // Проверяем наличие сообщений в очереди
        if (this.pending.length > 0) {
            return true;
        }
        
    // В очереди нет сообщений
        return false
    }
    
// Проверяем <...>
    if (this.hasPending()) { ... };
```

## checkMessage()
```js
/*┌─────────────────┐
  │ Проверяет <...> │
  └─────────────────┘*/
    checkMessage() {
    }
    
// Проверяем <...>
    this.checkMessage();
```

## getMessage()
```js
/*┌──────────────────┐
  │ Возвращает <...> │
  └──────────────────┘*/
    getMessage() {
    }
    
// Получаем <...>
    this.getMessage();
```

## extractMessage()
```js
/*┌─────────────────┐
  │ Извлекает <...> │
  └─────────────────┘*/
    extractMessage() {
    }
    
// Извлекаем <...>
    this.extractMessage();
```

## setMessage()
```js
/*┌──────────────┐
  │ Задает <...> │
  └──────────────┘*/
    setMessage() {
    }
    
// Задаем <...>
    this.setMessage();
```

## updateMessage()
```js
/*┌─────────────────┐
  │ Обновляет <...> │
  └─────────────────┘*/
    updateMessage() {
    }
    
// Обновляем <...>
    this.updateMessage();
```

## addMessage()
```js
/*┌─────────────────┐
  │ Добавляет <...> │
  └─────────────────┘*/
    addMessage() {
    }
    
// Добавляем <...>
// Добавляем новый <...>
    this.addMessage();
```

## createMessage()
```js
/*┌───────────────┐
  │ Создает <...> │
  └───────────────┘*/
    createMessage() {
    }
    
// Создаем <...>
    this.createMessage();
```

## removeMessage()
```js
/*┌───────────────┐
  │ Удаляет <...> │
  └───────────────┘*/
    removeMessage() {
    }
    
// Удаляем <...>
    this.removeMessage();
```

## clearMessages()
```js
/*┌───────────────────┐
  │ Очищает все <...> │
  └───────────────────┘*/
    clearMessages() {
    }
    
// Очищаем все <...>
    this.clearMessages();
```

## derivePositions()
```js
/*┌─────────────────┐
  │ Формирует <...> │
  └─────────────────┘*/
    derivePositions = (keyBuffer) => {
    }
    
// Формируем <...>
    const positions = this.derivePositions();
```

## catch()
```js
/*┌─────────────────────────┐
  │ Обрабатывает исключение │
  └─────────────────────────┘*/
    catch(error) {
    // Ошибка уже обработана
        if () {
        }
        
    // Обрабатываем ошибку
        else {
        }
        
    // Возвращаем сообщение об ошибке
        throw ...;
    }
    
// Обрабатываем <...>
    .then(res => this.response(res)).catch(
    // Ошибка при обработке <...>
        error => _catch(error)
    )
```

## Экспортный класс
```js
/*▄────────────────────▄
  █                    █
  █  Загрузка модулей  █
  █                    █
  ▀────────────────────▀*/
const EventEmitter = require('events');

/*▄─────────────────▄
  █                 █
  █  Создает <...>  █
  █                 █
  ▀─────────────────▀*/
module.exports = class extends EventEmitter {
/*┌─────────────┐
  │ Конструктор │
  └─────────────┘*/
    constructor() {
    // Вызываем конструктор родителя
        super();
    }
};
```

## События
```js
/*┌────────────────────────────┐
  │ Обработчик получения <...> │
  └────────────────────────────┘*/
    data = (packet) => {
    // Не удалось получить <...>
        if (packet.error) {
        }
        
    // Сообщаем о получении <...>
        this.emit('data', Buffer.from(packet));
    }
    
// Добавляем обработчик получения <...>
this.on('data', (packet) => {
    console.log(`Получен новый <...>: ${packet.length}`);
});
```

## Визуальная схема порядка методов
```js
/*┌────────────────────────────────┐
  │ 1. Инициализация и настройка   │
  │--------------------------------│
  │ constructor                    │
  │ configure* / initWith*         │
  │ init*                          │
  │--------------------------------│
  │ 2. Проверка и контроль         │
  │--------------------------------│
  │ has* / is* / can*              │
  │ check*                         │
  │ validate*                      │
  │ verify*                        │
  │--------------------------------│
  │ 3. Получение                   │
  │--------------------------------│
  │ get*                           │
  │--------------------------------│
  │ 4. Создание и генерация        │
  │--------------------------------│
  │ create* / build*               │
  │ generate*                      │
  │ derive*                        │
  │--------------------------------│
  │ 5. Обновление состояния        │
  │--------------------------------│
  │ set*                           │
  │ update*                        │
  │ add* / remove*                 │
  │--------------------------------│
  │ 6. Событие                     │
  │--------------------------------│
  │ on* / off* / emit*             │
  │--------------------------------│
  │ 7. Извлечение и преобразование │
  │--------------------------------│
  │ extract* / to* / from*         │
  │--------------------------------│
  │ 8. Кодирование и шифрование    │
  │--------------------------------│
  │ encode* / decode*              │
  │ encrypt* / decrypt*            │
  │--------------------------------│
  │ 9. Очистка и завершение        │
  │--------------------------------│
  │ clear*                         │
  │ reset*                         │
  │ destroy*                       │
  └────────────────────────────────┘*/

```
